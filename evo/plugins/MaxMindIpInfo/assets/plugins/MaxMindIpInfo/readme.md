# ВНИМАНИЕ!!!!! Плагин не работает на локальных IP адресах!!!!

Т.к. локальные адреса не индексируются.

# ОПИСАНИЕ

Плагин берет 2 основных параметра информации об IP.
Это, если есть **$_SERVER['HTTP_X_FORWARDED_FOR']** или если его нет, то **$_SERVER['REMOTE_ADDR']** 
Если уж нет, то нет. Но всегда что-то да есть)

Сохраняет в сессии и в куках данные об IP адресе пользователя сайта для дальнейшего использования где бы то ни было

Работает на открытых данных от https://www.maxmind.com/

**Лицензия https://creativecommons.org/licenses/by-sa/4.0/ Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)**

Проще говоря - для некоммерческого использования. Я просто оболоску сделал, дальше сами виноваты)

Да! По лицензии от maxmind вы должны указать ссылку на сайте такого типа:
This product includes GeoLite2 data created by MaxMind, available from
<a href="https://www.maxmind.com">https://www.maxmind.com</a>.

Это на ваше усмотрение.

## Установка

1. Вы можете установить данный плагин посредством стандартного уставщика ModX Evolution
2. Вы можете загрузить пакет установки, он тут

## Как посмотреть резултат работы плагина?

** Плагин выполняется на событии OnBeforeLoadDocumentObject **

Я просто не нашел события которое раньше, это в упрек разработчикам, т.к. могут и другие события происходить.
Это более раннее.

Результат работы плагина сохраняется в сессии и в куках, чтоб не юзать лишний раз базу.
Вы всегда можете установить плагин и потом написать небольшой сниппет для вывода данных, что он собрал.
Мне лень писать отдельно, т.к. для каждого случая бывают разная необходимость в этом плагине.
Вы можете просто написать сниппет и вызвать его на любой странице.

** небольшой пример сниппета, назовем его test **

```php
<?php 
echo '<pre>';
print_r($_SESSION['MaxMindIpInfo']);
echo '</pre>';
?>
```